/* --- Global & Base Styling --- */
:root {
   --color-primary: #003366; 
   --color-accent: #ff9900; 
   --color-success: #28a745;
   --color-warning: #ffc107;
   --color-danger: #dc3545;
   --color-info: #007bff; 
}

html, body {
   height: 100%;
}
body {
   font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
   background-color: #f4f7fa;
   color: #333;
   margin: 0;
   padding: 0;
   display: flex;
   flex-direction: column;
   min-height: 100vh;
   align-items: center; 
}

/* --- Dashboard Container & Layout --- */
.dashboard-container {
   width: 100%;
   max-width: 1300px;
   background-color: #fff;
   box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
   display: flex;
   flex-direction: column;
   flex-grow: 1; 
}

.main-content-wrapper {
   display: flex;
   flex-grow: 1; /* Allows the wrapper to expand vertically */
   min-height: calc(100vh - 100px); 
}

/* --- Header Styling --- */
.header {
   background-color: var(--color-primary);
   color: white;
   padding: 15px 40px;
   display: flex;
   align-items: center;
   justify-content: space-between;
   border-bottom: 5px solid var(--color-accent); 
   flex-shrink: 0; 
}

.header h1 {
   margin: 0;
   font-size: 1.7em;
   font-weight: 300;
}
.user-info {
   font-size: 0.95em;
   font-weight: 400;
   opacity: 0.8;
}

/* --- Sidebar Styling (Default OPEN State) --- */
.sidebar-menu {
   width: 300px; 
   min-width: 300px; /* Important for the flex container to respect this size */
   flex-shrink: 0; /* Prevents it from shrinking prematurely */
   background-color: #f8f9fa; 
   padding: 30px 20px;
   border-right: 1px solid #e0e0e0;
   overflow-y: auto; 
   transition: all 0.3s ease-in-out; /* Enable smooth transition */
}

/* Sidebar H2 Styling (Default OPEN State) */
.sidebar-menu h2 {
   color: var(--color-primary);
   font-size: 1.6em;
   margin-bottom: 20px;
   padding-bottom: 5px;
   border-bottom: 2px solid var(--color-accent); 
   display: flex; /* IMPORTANT for aligning the icon, text, and button */
   align-items: center;
   justify-content: space-between;
}

/* Sidebar Toggle Button (Default OPEN State) */
.sidebar-toggle-button {
    font-size: 1.5em;
    font-weight: 700;
    color: var(--color-accent);
    cursor: pointer;
    margin-left: 10px;
    padding: 0 5px;
    line-height: 1; 
}

/* === CRITICAL SIDEBAR COLLAPSED STATE FIX === */

/* 1. Shrink the Sidebar */
.main-content-wrapper.sidebar-collapsed .sidebar-menu {
    width: 60px !important; 
    min-width: 60px !important;
    flex-basis: 60px !important; 
    padding: 30px 5px !important; 
    overflow: hidden; 
    border-right: none;
}

/* 2. Hide H2 content (text/icon) and Center the Button */
.main-content-wrapper.sidebar-collapsed .sidebar-menu h2 {
    /* Set H2 to flex again for centering, but ensure its children are small */
    justify-content: center; 
    /* The border-bottom from the open state must be hidden */
    border-bottom: none !important;
    padding-bottom: 0 !important;
    margin-bottom: 30px !important; /* Add space below the arrow */
}

/* 3. Ensure ONLY the Toggle Button is Visible and Large */
.main-content-wrapper.sidebar-collapsed .sidebar-menu h2 .sidebar-toggle-button {
    font-size: 2em; /* Make the arrow large */
    margin: 0;
    padding: 0;
    line-height: 1; 
    order: 1; /* Ensure it is the first or only element visually */
    display: block;
}
/* This is a secondary way to ensure the home icon is hidden, the JS also handles this */
.main-content-wrapper.sidebar-collapsed .sidebar-menu h2 .group-icon,
.main-content-wrapper.sidebar-collapsed .sidebar-menu h2 span:not(.group-icon):not(.sidebar-toggle-button) {
    display: none !important;
}

/* 4. Hide all Module Content (links, headers, arrows) */
.main-content-wrapper.sidebar-collapsed .module-grid-sidebar {
    display: none !important; 
}

/* 5. Content Area Expansion */
.main-content-wrapper.sidebar-collapsed .content-area {
    flex-grow: 1;
    padding-left: 20px;
}
/* =================================== */


/* --- Menu Toggling & Arrow Styling (H3/H4) --- */
.module-group h3, .collapsible-subheader {
   cursor: pointer;
   user-select: none;
   display: flex;
   align-items: center;
   transition: background-color 0.2s; 
}
.module-group h3 {
   color: var(--color-primary);
   font-size: 1.4em;
   font-weight: 600;
   margin-top: 0;
   padding: 5px 0; 
   margin-bottom: 20px;
   border-bottom: 1px solid transparent; 
}
.module-group h3:hover {
    background-color: #e6e9ee; 
    border-bottom: 1px solid #e0e0e0;
}

.collapsible-subheader {
   font-size: 1.1em;
   font-weight: 600;
   color: #004d99; 
   padding: 8px 5px;
   margin: 10px 0 5px 0;
   border-bottom: 1px solid #e9ecef;
}
.collapsible-subheader:hover {
    background-color: #e6e9ee; 
}

.module-group h3 .group-icon {
   font-size: 1.2em;
   margin-right: 12px;
   color: var(--color-accent);
}

.collapsible-header .toggle-arrow, 
.collapsible-subheader .toggle-arrow {
   font-size: 1.2em;
   color: var(--color-accent);
   margin-left: auto;
   margin-right: 5px;
   transition: transform 0.3s ease;
}

.tool-links-container.hidden, 
.sub-tool-links-container.hidden {
   display: none;
}


/* --- Content Area (Right Side) --- */
.content-area {
   flex-grow: 1; 
   padding: 20px 30px;
   display: flex;
   flex-direction: column; 
}

#tool-iframe {
   width: 100%;
   flex-grow: 1; 
   border: none;
   background-color: white;
}

/* --- Footer Styling --- */
.footer {
   background-color: #e9ecef;
   color: #6c757d; 
   text-align: center;
   padding: 15px 0;
   font-size: 0.85em;
   border-top: 1px solid #dee2e6;
   margin-top: 0; 
   flex-shrink: 0; 
}

/* --- Breadcrumb Styling --- */
.breadcrumb-container {
   padding: 15px 0;
   margin-bottom: 20px;
   border-bottom: 1px solid #e0e0e0;
   font-size: 0.95em;
   color: #6c757d;
}

.breadcrumb-label {
   font-weight: 600;
   color: var(--color-primary);
   margin-right: 5px;
}
#breadcrumb-path .separator {
   margin: 0 8px;
   color: #adb5bd;
}

/* Tool Link Styling */
.tool-link {
   display: block;
   padding: 12px 15px;
   margin-bottom: 10px;
   background-color: #f0f2f5;
   color: var(--color-primary);
   text-decoration: none;
   border-radius: 4px;
   transition: background-color 0.2s, border-color 0.2s;
   font-weight: 500;
   border: 1px solid #e0e0e0;
}

.tool-link:hover {
   background-color: #e6e9ee;
   border-color: var(--color-accent);
}

.tool-link.tool-highlight {
   background-color: #fffaeb;
   border: 1px solid var(--color-accent);
   color: #333;
   font-weight: 600;
}

.tool-link.tool-highlight:hover {
   background-color: #ffefc4;
}
/* --- NEW LOGO STYLING --- */
.header-left {
   display: flex; /* Aligns the logo and H1 horizontally */
   align-items: center; /* Vertically centers the items */
}

.logo-container {
   /* Defines the space for the logo */
   margin-right: 20px; 
   height: 45px; /* Fixed container height */
   display: flex;
   align-items: center;
   justify-content: center;
}


.company-logo {
   /* Constraints for the actual image */
   max-height: 45px; /* Size the logo */
   width: auto;
   display: block; /* Removes any baseline spacing */
   /* Removed: background-color: white; */ 
   /* Removed: padding: 5px; */ 
   border-radius: 4px; /* Optional: Keep if you like */
}


/* --- END NEW LOGO STYLING --- */